title: Conception Of Mapreduce 
date: 2022-07-17 18:30:09
categories:
- [Code,BD]
tags:
- Linux
- Algorithm
- BD
---
MapReduce是一种算法和框架，用来处理海量数据,Pregel（Pregel也来自谷歌，开源），对工程师的算法知识要求不高，支持大规模图的计算.

<!--more-->
###  mapreduce & pergl

#### mapreduce
使用MapReduce需要写两个函数：一个mapper，一个reducer。这两个函数会在分布
存储数据的各个电脑上运行，将算法放进这种map/reduce的框架，系统就自动具备了容错的功能。

mapper函数将每个数据点作为输入，按顺序输出形如(键, 值)这样的二元组列表（每一个键对应一个计数值/集合），然后框架会使用定向冒泡排序对输出排序，如果键值相同，会将两个二元组合并，将值堆叠起来。这些堆最终会被送往执行reducer函数的机器。reducer函数使用聚合函数对值进行聚合，得到新的值，输出新的(键, 新值)列表。==一个reducer处理给定键的所有值。==

> MapReduce并不适合迭代式的算法——计算时将上一次的输出作为下一次计算的输入

一个典型的工作流程：
1. 使用Hive（一种运行在Hadoop上的类SQL语言）将你对某实体的了解情况创建为记录MapReduce）；
2. 编写Python脚本反复处理这些记录（速度要快，迭代要快，同时还会用MapReduce）；
3. 当有新数据时，及时更新记录。

第2步的脚本通常只是map作业，它让并行化变得简单。


#### pergl
pregl是一种基于图的计算方法，将数据看作一种图状或网状的数据结构，连通的节点之间可以互相交换信息。同时还有聚合节点，可以获取所有节点上的信息，然后在其上进行求和或计算平均数之类的运算




  